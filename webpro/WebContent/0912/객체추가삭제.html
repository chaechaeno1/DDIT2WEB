<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>객체 추가 삭제</title>

<link rel="stylesheet" href="../css/public.css">
<!-- 외/내부 이름이 일치해야 내부 스타일 적용됨 -->
<style>
.but{
	margin-left: 30px;
}

</style>

<script>

//문자배열 생성
arr = ["HTML", "JAVAScript", "JQuery","CSS","아이브","뉴진스",
	"I AM", "ETA", "Super Shy"];

proc1 = () =>{

	
	//랜덤 발생
	rand = Math.floor(Math.random()*arr.length);
	
	//문자객체를 생성(createTextNode()) - 배열[랜덤]
	vtext = document.createTextNode(arr[rand]);
	
	//p태그 생성
	ptag = document.createElement('p');
	
	//p태그에 문자객체를 추가
	ptag.appendChild(vtext);
		
	//result1 검색
	vres1 = document.querySelector('#result1');
		
	//result1에 p태그 추가
	vres1.appendChild(ptag);
	
	
}


proc2 = () => {
	//vres1은 전역변수
	//삭제할 대상 선택 - p태그가 선택
	//child = vres1.firstChild; //첫번째 노드 부터 삭제
	child = vres1.lastChild; //마지막 노드 부터 삭제
	//선택한 p태그를 result1에서 삭제
	vres1.removeChild(child);
	

}


proc3 = () => {
	//랜덤 발생
	rand = Math.floor(Math.random()*arr.length);
	
	//문자열 객체 생성 - arr[rand]
	vtext = document.createTextNode(arr[rand]);
	
	//(1)버튼 객체 생성 - type, onclick, innerHTML
	button = document.createElement('button');
	button.type = "button";
	//button.setAttribute('type', 'button');
	//동적으로(동시에) 생성되는 거에 id 주면 안됨. id는 중복되면 안되기때문에.
	button.setAttribute('class', 'but');
	button.innerHTML = "삭제";
	//람다함수로 바꾸면 실행안됨. button.onclick = () => {} 사용 불가
	//function 자체가 this가 됨. this를 사용할 경우 람다함수 X
	button.onclick = function(){
		//클릭한 삭제버튼 : this, this객체의 부모 객체(p태그)를 선택
		vparent = this.parentNode;
	
		//p태그를 삭제 - vparaent가 p태그
		vparent.remove();
		
	}; 	
	
	
	//(2)input 버튼 - type, value, onclick
	/* button = document.createElement('input');
	button.type = "button";
	button.setAttribute('class', 'but');
	button.value = "삭제";
	button.onclick = function(){};	 */
	
	//p태그 생성
	ptag = document.createElement('p');
	
	//p태그에 문자열 객체 추가
	ptag.appendChild(vtext);
	
	//p태그에 버튼 객체 추가
	ptag.appendChild(button);
	
	//result3 검색
	vres2 = document.querySelector('#result3');
	
	//result3에 p태그를 추가
	vres2.appendChild(ptag);
	
	
	
	
}


</script>

</head>
<body>

	<h2>랜덤으로 문자열 발생 - result1에 추가</h2>
	(1) p태그 생성(createElement(tagName)) - p태그에 문자열 객체 추가
	<br> (2) result1에 p태그를 추가
	<br> (3) 삭제 클릭시 p태그 삭제(위에서 부터 firstChild /아래에서 부터 lastChild)
	<br>
	<br>
	<input type="button" value="추가" onclick="proc1()">
	<input type="button" value="삭제" onclick="proc2()">
	<br>
	<br>
	<div id="result1"></div>
	<hr color="red">
	<br>
	<br>

	<h2>랜덤으로 문자열 발생 -</h2>
	(1) 삭제버튼 생성<!-- 
	<button type=button onclick="del(this)">삭제</button>
	<input type="button" value="삭제" onclick="del(this)"> 
	-->
	<br> (2) p태그 생성(createElement(tagName)) - p태그에 문자열 객체 추가 / p태그에 삭제 버튼 추가
	<br> (3) result3에 p태그를 추가
	<br> (4) 삭제 클릭시 해당 p태그 삭제
	<br>
	<br>
	<input type="button" value="추가" onclick="proc3()">
	<br>
	<br>
	<div id="result3"></div>
	<hr color="red">
	<br>
	<br>

</body>
</html>