<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>5.ajax(11p.)</title>

<!-- 외부CSS -->
<link rel="stylesheet" href="../css/public.css">

<!-- 외부스크립트 -->
<script src="../js/jquery-3.7.1.min.js"></script>

<!-- 내부스크립트 -->
<script>
	//request객체 생성 - 전역 객체
	var xhr = new XMLHttpRequest();

	$(function() {
		$('#text').on('click', function() {
			//요청
			xhr.open('get', 'text.jsp', true);
			xhr.send();

			//응답 - readyState - 1,2,3,4 ... status - 200...
			xhr.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					//응답받기 - text로..				
					res = this.responseText;
					//res = 홍길동/개나리/진달래/무궁화/라일락/수선화
					//split(구분자) , 구분자 '/' ==> res.split("/")
					arr = res.split("/");
					
					//출력내용
					code = "<ul>";
					//$(arr).each
					$.each(arr, function(i, v){
						code += "<li>" + arr[i] + "</li>"
						//code += "<li>" + v + "</li>"
					}) 
					code += "</ul>";
					
					//출력
					$('#result1').html(code);
				}
			}

		})

		$('#jarr').on('click', function() {

		})

		$('#jobj').on('click', function() {

		})

		$('#jarob').on('click', function() {

		})

	})
</script>

<!-- 옆으로 나란히 출력할 때
float : left
display : inline
display : flex (부모필요)
 -->

<style>
#result {
	display: flex;
	flex-direction: row;
}

#result div {
	box-sizing: border-box; /* flex(25%)안에 border와 padding이 포함 */
	/* content-box : 내용만 flex(25%) */
	flex: 25%;
	margin: 2px;
	padding: 5px;
}
</style>


</head>
<body>

	<h2></h2>
	<input type="button" value="text" id="text">
	<input type="button" value="json배열" id="jarr">
	<input type="button" value="json객체" id="jobj">
	<input type="button" value="json배열객체" id="jarob">
	<br>
	<br>
	<div id="result">
		<div id="result1"></div>
		<div id="result2"></div>
		<div id="result3"></div>
		<div id="result4"></div>
	</div>
	<hr color="red">
	<br>
	<br>

</body>
</html>