<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>4.메소드 (22p.)</title>

<!-- 외부CSS -->
<link rel="stylesheet" href="../css/public.css">

<!-- 외부스크립트 -->
<script src="../js/jquery-3.7.1.min.js"></script>

<!-- 내부스크립트 -->
<script>
$(function(){
	// bind방식 - 이미 만들어진 요소에만 적용, 동적으로 만들어진 새로운 요소에는 적용되지 않음
	//$('.add').one('click',function(){ //한번밖에 실행이 안됨
	$('.add').on('click',function(){
		//vbut = $('<input type="button" value="추가버튼" class="add">');
		vbut = $('<input>', {
			'type' : 'button',
			'value' : '추가버튼',
			'class' : 'add but' // 새로만들어진 add, but라는 클래스 추가
		});
		
		//appendTo는 부모가 뒤에 온다.
		$('#result1').append(vbut);
		
	}) 
	
	$('#clear').on('click',function(){
		$('.add').off('click');
		
	})
	
	//새로 만들어진 버튼 - 이벤트 처리기(핸들러) - 실행되지 않음!
	$('.but').on('click',function(){
		cr = Math.floor(Math.random()*256);
		cg = Math.floor(Math.random()*256);
		cb = Math.floor(Math.random()*256);
		
		//$('#result2').css('background', `rgb(${cr},${cg},${cb})`);
		
		//16진수로 변환
		cr = cr.toString(16);
		cg = cg.toString(16);
		cb = cb.toString(16);
		$('#result2').css('background', '#'+cr+cg+cb);
		//$('#result2').css('background', `#${cr}${cg}${cb}`);
		
		
		
	})
	
	//delegate방식
	//$(document).on('click','.add', function(){}) 
		
})
</script>


</head>
<body>
	
	<h2></h2>
	<input type="button" value="추가" class="add">
	<input type="button" value="해제" id="clear">
	<br><br>
	<div id="result1"></div>
	<div id="result2"></div>
	<hr color="red">
	<br><br>

</body>
</html>